# 함수형 자바스크립트 프로그래밍 :pencil:

## 4. 함수 조립하기

> 4장에서는 작은 함수로 큰 함수를 만드는 방법들을 다룬다. 객체 지향에 빗대어 표현하면 클래스와 인스턴스에 대해서 처음 다루는 장이라고도 할 수 있겠다. 함수로 함수를 조립하는 방법들에 대해 확인해 보자. 

> 함수형 자바스크립트의 10가지 기법
> 1. 함수를 되도록 작게 만들기
> 2. 다형성 높은 함수 만들기
> 3. 상태를 변경하지 않거나 정확히 다루어 부수 효과를 최소화하기
> 4. 동일한 인자를 받으면 항상 동일한 결과를 리턴하는 순수 함수 만들기
> 5. 복잡한 객체 하나를 인자로 사용하기 보다는 되도록 일반적인 값 여러 개를 인자로 사용하기
> 6. 큰 로직을 고차함수로 만들고 세부 로직을 보조함수로 완성하기
> 7. 어느 곳에서든 바로 실행하거나 혹은 미뤄서 실행할 수 있도록 일반 함수이자 순수함수로 선언하기
> 8. 모델이나 컬렉션 등의 커스텀 객체 보다는 기본 객체를 이용하기
> 9. 로직의 흐름을 최대한 단방향으로 흐르게 하기
> 10. 작은 함수를 모아 큰 함수 만들기

### 4.4 더 나은 함수 조립

- 함수를 조립하는데에도 함수가 사용
- 함수로 함수를 만드는 방법들을 더 정교하게 잘 다루면 훨씬 다양하고 재밌게 조합 가능
- this, new, constructor, prototype이나 proxy, 이벤트등의 객체지향적 기능과 개념들을 충분히 사용가능하다.
    - 하지만, this는 예측가능하기 어려운 상황을 만들고, 숨어있는 상태나 흐름을 쫓아가는 것을 어렵게 한다. this가 사용된 코드는 테스트하기도 어렵다 (왜지..?)
    - 자바스크립트에서 대부분의 경우 this 없이 프로그래밍이 가능, this 없어도 의존성 줄일 수 있음. 높은 수준의 모듈화도 가능
    - `but` 함수형 프로그래밍에서는 this문제를 어떻게 풀어갈 것인가에 대한 고민이 필요함
        - 좀 더 자세히는 this가 쓰이고 있는 코드들과 함께 어떻게 어울리게 할 것인가 고민할 필요가 있다.
- 파이프라인은 체인을 대체하며 좀 더 유연하다. 하나의 데이터에만 의존하는 체인보다는 더 많은 가능성을 가진다.
    - 하지만, 체인 같은 간결한 코드가 나오기는 어렵다.
- 체인은 준비된 메서드나 규격에 맞춰서 사용해야하지만 파이프라인은 아무 함수나 사용할 수 있어 더 유연하고 함수적이다.
- 클로저나 엘릭서같은 함수형 언어들도 체인이 아닌 함수 중첩과 파이프라인을 사용함.    

##### Currying

- `Currying`은 여러개의 인자를 가진 함수를 호출 할 경우, 파라미터의 수보다 적은 수의 파라미터를 인자로 받으면 누락된 파라미터를 인자로 받는 기법을 말합니다. 
- 인자를 미리 고정할 수 있지만 하나씩만 고정한다는 것이 특징입니다. 또한, 모든 인자를 받을 때까지 계속 함수를 생성합니다. 

> currying 예시: 출처) https://www.zerocho.com/category/JavaScript/post/579236d08241b6f43951af18
```javascript
function multiplyThree(x) {
  return function(y) {
    return function(z) {
      return x * y * z;
     }
  };
}
multiplyThree(4)(8)(2); // 64
```